<ion-header>
  <ion-navbar>
    <ion-title>
    <ion-icon name="menu" menuToggle></ion-icon>&nbsp;
      Calendar
    </ion-title>
  </ion-navbar>
</ion-header>

<style>
    .tableHead td{
        width:14%;
        float:left;
        border-top:solid 1px black;
        background-color: darkgrey
    }

    .tableBody td{
        width:14%;
        float:left;
        border-top:solid 1px black;
        min-height: 60px;
    }
</style>

<ion-content class='grid-basic-page' style='margin-top: 10px;'>
    <ion-slides (ionSlideDidChange)='slideChanged($event)' initialSlide=1>
        <ion-slide *ngFor='let cal of calendarArr'>
            <ion-row align-items-center>
                <ion-col>
                    <div>
                        <ion-icon style='font-size:50px;float:left;margin-left:20%;' (click)='prev(cal.date)' name="arrow-dropleft" item-center></ion-icon>
                    </div>
                </ion-col>
                <ion-col>
                    <div style='text-align:center;font-size:40px;'>
                        <strong>
                            {{cal.date.getFullYear()}}.{{cal.date.getMonth()+1}}
                        </strong>
                    </div>
                </ion-col>
                <ion-col>
                    <div>
                        <ion-icon style='font-size:50px;float:right;margin-right:20%;' (click)='next(cal.date)' name="arrow-dropright" item-center></ion-icon>
                    </div>
                </ion-col>
            </ion-row>
            <div>
            </div>
            <table style='width:100%;margin-left:1%;'>
                <tr class="tableHead">
                    <td>Sun</td>
                    <td>Mon</td>
                    <td>Tue</td>
                    <td>Wed</td>
                    <td>Thu</td>
                    <td>Fri</td>
                    <td>Sat</td>
                </tr>
                <tr *ngFor='let week of cal.calendar' class='tableBody'>
                    <td *ngFor='let data of week'
                        [style.color]='data.date.getMonth() != cal.date.getMonth() ? "grey": data.date.getDay()==0? "red" : "black"'
                        [style.backgroundColor]='data.date.getMonth() == cal.date.getMonth() ? "": "rgba(224, 224, 224, 0.72)"'>
                        <strong>{{data.date | date:'dd'}}</strong>
                        <div 
                            style='overflow: hidden;white-space: nowrap;'
                            *ngFor='let workout of data.workouts'
                            [style.backgroundColor]='workout.done>=workout.goal?"green":"grey"'
                            >
                            {{workout.done}}
                            &nbsp;
                            {{workout.name}}
                        </div>
                    </td>
                </tr>
            </table>
        </ion-slide>
    </ion-slides>
</ion-content>








